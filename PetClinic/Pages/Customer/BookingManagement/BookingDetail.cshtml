@page
@using PetClinicBussinessObject
@model PetClinic.Pages.Customer.BookingManagement.BookingDetailModel

@{
    Layout = null;
    ViewData["Title"] = "Booking Detail Page";

    var userId = HttpContext.Session.GetString("UserId");
    var role = HttpContext.Session.GetString("Role");
    var email = HttpContext.Session.GetString("Email");

    if (userId == null || role != "0")
    {
        Response.Redirect("/Authentication/Login");
    }
}

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/css/luongstyle.css" />
    <link rel="stylesheet" href="~/css/customerBookingDetail.css">
</head>

<header>
    <h1>Pet Clinic</h1>
</header>

<nav class="navbar navbar-expand-sm">
    <a asp-page="/Customer/CustomerHomePage">Home</a>
    <a asp-page="/Customer/BookingManagement/BookingHistory">View Bookings</a>
    <a asp-page="/Customer/PetManagement/Index">My Pets</a>
    <a asp-page="/VaccinationManagement/Index">Vaccinations</a>
    <a asp-page="/Customer/HospitalizationView/HospitalizationView">Hospitalizations</a>
</nav>

<body class="booking-detail-page">
    <div class="booking-header">
        <h1>Booking Detail</h1>
    </div>

    <div class="detail-section">
        <h4>Booking</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.BookingAt)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.BookingAt)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.PaymentStatus)
            </dt>
            <dd class="col-sm-10">
                @((BookingPaymentStatus)Model.Booking.PaymentStatus)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.BookingStatus)
            </dt>
            <dd class="col-sm-10">
                @((BookingStatus)Model.Booking.BookingStatus)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.Doctor)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Doctor.FirstName)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.Pet)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Pet.PetId)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.Schedule)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Schedule.ScheduleId)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Booking.Service)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Service.ServiceId)
            </dd>
        </dl>
    </div>
    <div class="action-links">
        <a asp-page="./Edit" asp-route-id="@Model.Booking?.BookingId" class="btn btn-success">Edit</a> |
        <a asp-page="./Index" class="btn btn-primary">Back to List</a>
    </div>
</body>
